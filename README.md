# Log2Exif

Googleマップのタイムライン（ロケーション履歴）データを利用して、写真（JPEG）の撮影日時から推測される位置情報（GPS）をEXIFデータとして付加するツールです。

## 特徴

- **Googleマップ タイムライン対応**: JSON形式のエクスポートデータを使用します。
- **自動マッチング**: 写真の撮影日時（EXIF情報またはファイルの更新日時）とタイムラインデータを照合し、最も近い時間の位置情報を付加します。
- **フォルダ構造の維持**: 処理後の画像は、元のフォルダ構造（サブフォルダなど）を維持したまま指定の出力先へ保存されます。
- **GUI操作**: フォルダ選択や設定を直感的に行えるGUIを提供します。前回の設定は自動的に保存されます。

## 前提条件

- Python 3.11 以上
- Windows OS (推奨)

## インストール

1. リポジトリをクローンまたはダウンロードします。
2. 必要なライブラリをインストールします。

```bash
pip install -r requirements.txt
```

## 使い方

### 1. データの準備

Googleマップのアプリまたはウェブサイトから、タイムラインデータをエクスポートしてください。
- スマートフォン（Android）の場合: [設定] -> [位置情報] -> [位置情報サービス] -> [タイムライン] からエクスポート可能です。
- 新しい形式の「Semantic Location History」のJSONファイルに対応しています。

### 2. アプリの起動

```bash
python main.py
```

### 3. 操作手順

1. **Timeline JSON**: エクスポートしたJSONファイルを選択します。
2. **Source Images Folder**: 位置情報を付加したい画像が入っているフォルダを選択します（サブフォルダも対象になります）。
3. **Destination Folder**: 処理後の画像を保存するフォルダを選択します。
4. **Overwrite**: 既に画像にGPS情報が含まれている場合、上書きするかどうかを選択します。
5. **Start Processing**: 処理を開始します。

## ライセンス

[MIT License](LICENSE)
